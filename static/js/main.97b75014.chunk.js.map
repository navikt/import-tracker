{"version":3,"sources":["components/AccordionList.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ImportTable","imports","defaultImports","useState","modalOpen","setModalOpen","modalFiles","setModalFiles","Object","keys","length","className","map","k","name","value","sort","a","b","uses","x","y","style","display","justifyContent","alignItems","Button","onClick","files","repos","console","log","Modal","open","onClose","split","Link","target","href","slice","join","AccordionList","imp","Accordion","heading","renderContentWhenClosed","namedUses","defaultUses","App","dataRoot","setDataRoot","useEffect","fetch","headers","Accept","then","data","json","parsed","key","filter","startsWith","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.97b75014.chunk.js","sourcesContent":["import { Accordion, Button, Link, Modal } from \"@navikt/ds-react\";\nimport React, { Fragment, useState } from \"react\";\nimport { packageUsesT } from \"../App\";\nimport \"../app.css\";\n\nconst ImportTable = ({\n  imports,\n  defaultImports,\n}: {\n  imports: { [key: string]: { uses: number; repos: string[] } };\n  defaultImports: number;\n}) => {\n  const [modalOpen, setModalOpen] = useState(false);\n  const [modalFiles, setModalFiles] = useState<string[]>([]);\n  const handleModal = (files: string[]) => {\n    console.log(files);\n    setModalFiles(files);\n    setModalOpen(true);\n  };\n\n  /* useEffect(() => {\n    Modal.setAppElement(\"#root\");\n  }, []); */\n\n  if (Object.keys(imports).length === 0 && defaultImports === 0) {\n    return <div>Importeres bare direkte, eks: `import \"@navikt/ds-css\"`</div>;\n  }\n\n  return (\n    <>\n      <table className=\"tabell tabell--stripet\">\n        <thead>\n          <tr>\n            <th>Funksjon/klasse</th>\n            <th>Importert X ganger</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>Default</td>\n            <td>{defaultImports}</td>\n          </tr>\n          {Object.keys(imports)\n            .map((k) => {\n              return { name: k, value: imports[k] };\n            })\n            .sort((a, b) => (a.value.uses < b.value.uses ? 1 : -1))\n            .map((x, y) => {\n              return (\n                <Fragment key={x.name + y}>\n                  {x.name === \"*\" ? (\n                    <tr>\n                      <td>import default as alias</td>\n                      <td>{x.value}</td>\n                    </tr>\n                  ) : (\n                    <tr>\n                      <td>{x.name}</td>\n                      <td\n                        style={{\n                          display: \"flex\",\n                          justifyContent: \"space-between\",\n                          alignItems: \"center\",\n                        }}\n                      >\n                        {x.value.uses}\n                        <Button onClick={() => handleModal(x.value.repos)}>\n                          Se filer\n                        </Button>\n                      </td>\n                    </tr>\n                  )}\n                </Fragment>\n              );\n            })}\n        </tbody>\n      </table>\n      <Modal open={modalOpen} onClose={() => setModalOpen(false)}>\n        <h2>Linker til filer som bruker komponent: </h2>\n        {modalFiles.length === 0 && (\n          <div>Klarte ikke finne lenke til bruk...</div>\n        )}\n        {modalFiles.map((x) => {\n          const split = x.split(\"/\");\n\n          return (\n            <div key={x}>\n              <Link\n                target=\"_blank\"\n                href={`https://github.com/navikt/${\n                  split[0]\n                }/blob/master/${split.slice(1).join(\"/\")}`}\n              >\n                {x}\n              </Link>\n            </div>\n          );\n        })}\n      </Modal>\n    </>\n  );\n};\n\nconst AccordionList = ({\n  imp,\n}: {\n  imp: {\n    name: string;\n    value: packageUsesT;\n  };\n}) => {\n  return (\n    <Accordion\n      className=\"accordion filter drop-shadow-lg\"\n      heading={\n        <span style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <span>{imp.name}</span>\n          <span>{imp.value.uses}</span>\n        </span>\n      }\n      key={imp.name}\n      renderContentWhenClosed={false}\n    >\n      <div className=\"max-h-80 overflow-auto\">\n        <ImportTable\n          key={imp.name + imp.name}\n          imports={imp.value.namedUses}\n          defaultImports={imp.value.defaultUses}\n        />\n      </div>\n    </Accordion>\n  );\n};\n\nexport default AccordionList;\n","import React, { useEffect, useState } from \"react\";\nimport \"./app.css\";\nimport \"nav-frontend-tabell-style\";\nimport AccordionList from \"./components/AccordionList\";\nimport { Element } from \"nav-frontend-typografi\";\n\nexport type packageUsesT = {\n  uses: number;\n  defaultUses: number;\n  namedUses: { [key: string]: { uses: number; repos: string[] } };\n};\n\nconst App = () => {\n  const [dataRoot, setDataRoot] = useState<any[]>([]);\n\n  useEffect(() => {\n    fetch(\"imports.json\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n    })\n      .then((data: Response) => data.json())\n      .then((data: any) => {\n        const parsed = Object.keys(data)\n          .map((key) => {\n            return { name: key, value: data[key] as packageUsesT };\n          })\n          .sort((x, y) => (x.value.uses < y.value.uses ? 1 : -1));\n        setDataRoot(parsed.filter((x) => x.name.startsWith(\"@navikt/ds-\")));\n      });\n  }, []);\n\n  return (\n    <div className=\"flex justify-center vw-100 typo-normal overflow-x-hidden\">\n      <div className=\"p-8 max-w-screen-md w-full\">\n        <span className=\"flex justify-between p-4 \">\n          <Element>Pakkenavn</Element>\n          <Element className=\"mx-4\">Imports</Element>\n        </span>\n        {dataRoot.map((imp, y) => (\n          <AccordionList key={imp.name} imp={imp} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"@navikt/ds-css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}