{"version":3,"sources":["components/Accordion.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ImportTable","imports","defaultImports","className","Object","keys","map","k","name","value","sort","a","b","x","y","AccordionList","imp","Accordion","heading","style","display","justifyContent","uses","renderContentWhenClosed","defaultUses","namedUses","length","App","useState","loadCount","setLoadCount","showLocal","setShowLocal","inputText","setInputText","error","setError","tags","setTags","hits","setHits","data","setData","dataRoot","setDataRoot","hasMore","setHasMore","useEffect","fetch","headers","Accept","then","json","parsed","key","slice","max","filterImports","s","find","tag","toLowerCase","indexOf","filtered","filter","findIndex","startsWith","newData","onSubmit","e","preventDefault","undefined","document","getElementById","id","onChange","target","label","description","feil","autoComplete","onClick","_","i","removeTag","SuccessStroke","pageStart","initialLoad","loadMore","loader","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ab3484dc.chunk.js","sourcesContent":["import { Accordion } from \"@navikt/ds-react\";\nimport React, { Fragment } from \"react\";\nimport { packageUsesT } from \"../App\";\n\nconst ImportTable = ({\n  imports,\n  defaultImports,\n}: {\n  imports: { [key: string]: number };\n  defaultImports: number;\n}) => {\n  return (\n    <>\n      <table className=\"tabell tabell--stripet\">\n        <thead>\n          <tr>\n            <th>Funksjon/klasse</th>\n            <th>Importert X ganger</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>Default</td>\n            <td>{defaultImports}</td>\n          </tr>\n          {Object.keys(imports)\n            .map((k) => {\n              return { name: k, value: imports[k] };\n            })\n            .sort((a, b) => (a.value < b.value ? 1 : -1))\n            .map((x, y) => {\n              return (\n                <Fragment key={x.name + y}>\n                  {x.name === \"*\" ? (\n                    <tr>\n                      <td>import default as alias</td>\n                      <td>{x.value}</td>\n                    </tr>\n                  ) : (\n                    <tr>\n                      <td>{x.name}</td>\n                      <td>{x.value}</td>\n                    </tr>\n                  )}\n                </Fragment>\n              );\n            })}\n        </tbody>\n      </table>\n    </>\n  );\n};\n\nconst AccordionList = ({\n  imp,\n}: {\n  imp: {\n    name: string;\n    value: packageUsesT;\n  };\n}) => {\n  return (\n    <Accordion\n      className=\"accordion filter drop-shadow-lg\"\n      heading={\n        <span style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <span>{imp.name}</span>\n          <span>{imp.value.uses}</span>\n        </span>\n      }\n      key={imp.name}\n      renderContentWhenClosed={false}\n    >\n      <div className=\"max-h-80 overflow-auto\">\n        {imp.value.defaultUses === 0 &&\n          Object.keys(imp.value.namedUses).length === 0 && (\n            <span>\n              Importeres antageligvis i formatene <br /> <br />\n              <code>{`const Package = require(\"${imp.name}\");`}</code>\n              <br />\n              <br />\n              <code>{`import \"${imp.name}\";`}</code>\n            </span>\n          )}\n\n        {Object.keys(imp.value.namedUses).length > 0 && (\n          <ImportTable\n            key={imp.name + imp.name}\n            imports={imp.value.namedUses}\n            defaultImports={imp.value.defaultUses}\n          />\n        )}\n      </div>\n    </Accordion>\n  );\n};\n\nexport default AccordionList;\n","import React, { useEffect, useState } from \"react\";\nimport \"./app.css\";\nimport { Checkbox, Input, SkjemaGruppe } from \"nav-frontend-skjema\";\nimport { SuccessStroke } from \"@navikt/ds-icons\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport \"nav-frontend-tabell-style\";\nimport AccordionList from \"./components/Accordion\";\nimport { Element, Undertekst } from \"nav-frontend-typografi\";\n\nexport type packageUsesT = {\n  uses: number;\n  defaultUses: number;\n  namedUses: { [key: string]: number };\n};\n\nconst App = () => {\n  const [loadCount, setLoadCount] = useState<number>(1);\n  const [showLocal, setShowLocal] = useState(false);\n  const [inputText, setInputText] = useState(\"\");\n  const [error, setError] = useState<string | undefined>();\n  const [tags, setTags] = useState<string[]>([]);\n  const [hits, setHits] = useState(0);\n  const [data, setData] = useState<{ name: string; value: packageUsesT }[]>([]);\n  const [dataRoot, setDataRoot] = useState<\n    { name: string; value: packageUsesT }[]\n  >([]);\n  const [hasMore, setHasMore] = useState(true);\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (inputText === \"\") {\n      setError(\"Import navn må være på minst 1 tegn.\");\n      return;\n    } else {\n      setError(undefined);\n    }\n    setTags([...tags, inputText]);\n    setInputText(\"\");\n    (document.getElementById(\"import-input\") as HTMLInputElement).value = \"\";\n  };\n\n  useEffect(() => {\n    fetch(\"imports.json\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n    })\n      .then((data: Response) => data.json())\n      .then((data: any) => {\n        const parsed = Object.keys(data)\n          .map((key) => {\n            return { name: key, value: data[key] as packageUsesT };\n          })\n          .sort((x, y) => (x.value.uses < y.value.uses ? 1 : -1));\n        setDataRoot(parsed);\n        setData([...parsed.slice(0, 40)]);\n      });\n  }, []);\n\n  useEffect(() => {\n    const filterImports = (s: string) => {\n      if (tags.length === 0) {\n        return true;\n      }\n      return tags.find(\n        (tag) => s.toLowerCase().indexOf(tag.toLowerCase()) !== -1\n      );\n    };\n\n    const filtered = dataRoot\n      .filter((imp) => {\n        if (filterImports(imp.name)) {\n          return true;\n        } else if (\n          Object.keys(imp.value.namedUses).length > 0 &&\n          Object.keys(imp.value.namedUses).findIndex((x) =>\n            filterImports(x)\n          ) !== -1\n        ) {\n          return true;\n        }\n\n        return false;\n      })\n      .filter((x) =>\n        showLocal\n          ? true\n          : ![\"./\", \"..\"].find((y) => x.name.startsWith(y)) || x.name === \".\"\n      );\n\n    setHits(filtered.length);\n\n    let max;\n    if (filtered.length < loadCount * 40) {\n      max = filtered.length;\n      setHasMore(false);\n    } else {\n      max = loadCount * 40;\n      !hasMore && setHasMore(true);\n    }\n    const newData = [...filtered.slice(0, max)].sort((x, y) =>\n      x.value.uses < y.value.uses ? 1 : -1\n    );\n    setData(newData);\n  }, [loadCount, tags, dataRoot, hasMore, showLocal]);\n\n  const removeTag = (x: number) => setTags([...tags.filter((_, i) => i !== x)]);\n\n  return (\n    <div className=\"flex justify-center vw-100 typo-normal overflow-x-hidden\">\n      <div className=\"p-8 max-w-screen-md w-full\">\n        <form onSubmit={handleSubmit}>\n          <SkjemaGruppe>\n            <Input\n              id=\"import-input\"\n              onChange={(e) => setInputText(e.target.value)}\n              label=\"Import/Pakke navn\"\n              description={`Eks: react, nextjs/router, useState`}\n              feil={error}\n              autoComplete=\"off\"\n            />\n            <div className=\"flex flex-wrap gap-x-2 gap-y-1 mb-4\">\n              {tags.map((tag, x) => (\n                <span\n                  key={tag + x}\n                  onClick={() => removeTag(x)}\n                  className=\"border-blue-600 border bg-blue-200 rounded-sm px-2 py-1 flex gap-x-1 items-center hover:bg-blue-500 hover:text-white active:bg-blue-900\"\n                >\n                  <SuccessStroke />\n                  <span>{tag}</span>\n                </span>\n              ))}\n            </div>\n            <Checkbox\n              label=\"Vis lokale imports\"\n              onChange={() => setShowLocal(!showLocal)}\n            />\n          </SkjemaGruppe>\n        </form>\n        <span className=\"flex justify-between p-4 \">\n          <Element>Pakkenavn</Element>\n          {<Undertekst>Treff: {hits}</Undertekst>}\n          <Element className=\"mx-4\">Imports</Element>\n        </span>\n        <InfiniteScroll\n          pageStart={1}\n          initialLoad={false}\n          loadMore={setLoadCount}\n          hasMore={hasMore}\n          loader={<div key={\"loading\"}>Loading...</div>}\n          className=\"infinitescroll\"\n        >\n          {data.map((imp, y) => (\n            <AccordionList key={imp.name} imp={imp} />\n          ))}\n        </InfiniteScroll>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"@navikt/ds-css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}